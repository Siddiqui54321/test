https://www.youtube.com/watch?v=Et2cvQvIyUY
-----------------file permission to all other users
#useradd u1
#suer passwd u1
#su - u1
$touch abc.txt
$ls -l /home/u1
$ls -l /home/abc.txt
$exit			exit back to root
#useradd u2
#passwd u2
#su - u2
$chmod 755 /home/u1
$mkdir /home/u1/shared
$cp /home/u1/abc.txt /home/u1/shared 
$chmod 777 /home/u1/shared/abc.txt
----Now u2 can modify the file  

-----------------file permission to groups
#useradd u1
#passwd u1
#useradd u2
#passwd u2
$mkdir /home/u1/shared
$echo "this is user u1 work" > /home/u1/shared/abc.txt
#groupadd mygroup
#usermod -aG sharedgroup u1
#usermod -aG sharedgroup u2

#chgrp mygroup /home/u1/shared
#chmod 770 /home/u1/shared
#chgrp mygroup /home/u1/shared/abc.txt
#chmod 660 /home/u1/shared/abc.txt


#groupadd mygroup    #getent group mygroup     #groupdel mygroup
#usermod -aG sharedgroup u1
#usermod -aG sharedgroup u2
$mkdir /home/u1/shared
$echo "this is my work" > /home/u1/shared/abc.txt


------------make sudo user
wheel group that grants suo privileges.
#sudo usermod -aG wheel u1 (make sudo user)		
$sudo whoami (check)
$groups u1 (check)
$sudo gpasswd -d u1 wheel (remove sudo)




Assume:

user1 created: /home/user1/secret.txt

You want user2 to read secret.txt

1. Check current permissions (as root or user1):
ls -ld /home/user1
ls -l /home/user1/secret.txt


Default output likely:

drwx------  user1 user1 4096 ... /home/user1
-rw-------  user1 user1 ... secret.txt


This means only user1 can enter the directory and read the file.


-------------
2. Option A: Use a shared directory

Best practice: create a folder inside /home/user1 with limited access, like this:

# As user1
mkdir /home/user1/shared
chmod 755 /home/user1/shared
cp /home/user1/secret.txt /home/user1/shared/
chmod 644 /home/user1/shared/secret.txt


755 on shared allows others to enter the directory.

644 on secret.txt allows others to read the file.

Now, user2 can access:

cat /home/user1/shared/secret.txt

--------------
3. Option B: Give full access to home dir (not recommended)

If you must let user2 access all of /home/user1, change home dir permissions:

chmod 755 /home/user1
chmod 644 /home/user1/secret.txt


⚠️ Security Risk: This exposes all of user1’s files to read access by others. Avoid unless intentional.

✅ 4. Alternative: Use a group (advanced)

Create a group (e.g., sharedgroup)

Add both users to it

Set group ownership and permissions

Example:

# As root
groupadd sharedgroup
usermod -aG sharedgroup user1
usermod -aG sharedgroup user2

# As user1
mkdir /home/user1/shared
chgrp sharedgroup /home/user1/shared
chmod 770 /home/user1/shared

cp /home/user1/secret.txt /home/user1/shared/
chgrp sharedgroup /home/user1/shared/secret.txt
chmod 660 /home/user1/shared/secret.txt


Now only users in sharedgroup can access /home/user1/shared/secret.txt.











#adduser noman
#userdel noman               Delete the User
#rm -rf /home/abc  forcefully and recursively remove everything under /home/abc.
#getent passwd noman   verify user has deleted
#usermod -aG wheel noman       Add noman to the wheel group - This grants sudo access to the user.
$chmod 777 user1file.txt	add full permission
$chmod u-r user1file.txt	exclue user read permission
$chmod u+r user1file.txt	exclue user read permission

chown: to change user ownership
chgrp: to change group ownership


#Ps –u noman                    to see all processes by the user:
sudo kill -9 4472                Kill Specific Process (e.g. 4472)
sudo pkill -u noman        Kill All User Processes
sudo userdel noman       Delete the User
sudo userdel -r noman   With deleting home directory
sudo rm -rf /home/abc  forcefully and recursively remove everything under /home/abc.
getent passwd noman   verify user has deleted
 
sudo userdel abc              Deletes the user account, but leaves the home directory
sudo userdel -r abc          Deletes the user and their home directory.
sudo pkill -u abc                Kills all running processes of user abc, but doesn’t remove files.
Note: If just ran userdel without -r, their files remain in /home.


y
File Permissions:
7 type of file permission:
#ls -l
read,write,execute

Ansable: 
Ansable Tower:
id bob   bob is user, group is bob
#useradd ansadmin2
#passwd asnadmin2
#ll
#userdel bob     only account deleted  (passwd, shadow, group)
#userdel -r bob   del account + directory + mail 

/etc/passwd, /etc/shadow, /.etc/group, dir is created, mail spool

cronjob  as root, cronjob as user
#dh -h /data    output.txt
#rm -rf nadee, redhat    delete file 



cat /etc/passwd | grep sarah

rwx  = 7
rwx --- --- = 7 0 0 
ls read
#umask command tempreary    --0022
Change permission:
A/bsolute mode: 
Symbolic mode:
#chmod 
#chown  change ownership:group
#chown ownership:group
#chown ownership
#shown group
#chown 
user bob, now he is the member of NIT group
bob has ownership of file#


#chown bob:nit test.sh
#stat /root

read
write
execute
suid
guid
sticky bit
ACL


$stat test.sh
A NIT group only that member have permission to rwx
add group


---------07/09/2025
0	e
2	w
4	r
full access means 777 dir  owner

#groupadd testers     bob and sarah are in testers group
#cd /home
#useradd sarah -u  specific id
#cat /etc/passwd   to check id here find next id
#usermod sarah -aG Testersu    add sarah to add in testers group
#usermod bob -aG Testers
#getent group Testers
#userad user1
#passwd
#cd home
#su - user1
$touch testfile
$mkdir testdir
here user1 has full access
$chown zawar testfile    not permitted
$sudo shown zawar testfile	this incident will be reported
$su - user1
$chmood 777 testfile
$ls -l testfile      full access













